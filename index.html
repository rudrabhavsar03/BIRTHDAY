<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Shyamal ğŸ‚</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fadeIn 1s ease-out; }
body { margin: 0; padding: 0; overflow-x: hidden; }
</style>
</head>

<body>
<div id="app"></div>

<script>
/* ================= STATE ================= */
let currentPage = 'birthday';
let answer = '';
let error = '';
let showFinalMessage = false;

/* ================= PHOTOS ================= */
const photos = [
  'IMG-20250224-WA0018.jpg',
  'IMG-20250418-WA0028.jpg',
  'IMG-20250418-WA0065.jpg',
  'IMG-20250527-WA0167.jpg',
  'IMG-20250711-WA0036.jpg',
  'IMG-20250717-WA0059.jpg',
  'IMG-20250805-WA0015.jpg',
  'IMG-20250905-WA0017.jpg'
];

/* ================= RENDER ================= */
function render() {
  const app = document.getElementById('app');

  if (currentPage === 'birthday') {
    app.innerHTML = `
    <div class="min-h-screen bg-gradient-to-br from-yellow-300 via-pink-300 to-purple-400 flex items-center justify-center">
      <div class="bg-white/30 backdrop-blur-lg p-16 rounded-3xl text-center shadow-2xl z-10">
        <h1 class="text-7xl font-black text-white mb-6 animate-pulse">ğŸ‚ HAPPY BIRTHDAY ğŸ‚</h1>
        <p class="text-3xl text-white mb-10">Your special day is here âœ¨</p>
        <button onclick="startAdventure()"
          class="bg-white px-10 py-4 rounded-full text-xl font-bold text-purple-600 hover:scale-105 transition">
          Letâ€™s Begin ğŸ
        </button>
      </div>
    </div>`;
    return;
  }

  if (currentPage === 'question1') {
    app.innerHTML = questionTemplate(
      'ğŸ® First Challenge!',
      'What did you wear on your last birthday?',
      'Think about the color and what you wore on top ğŸ‘•'
    );
    setupInput();
    return;
  }

  if (currentPage === 'photos') {
    renderPhotos();
    return;
  }

  if (currentPage === 'letter') {
    renderLetter();
    return;
  }

  if (currentPage === 'final') {
    renderFinal();
  }
}

/* ================= TEMPLATE ================= */
function questionTemplate(title, question, hint) {
  return `
  <div class="min-h-screen bg-gradient-to-br from-blue-400 via-purple-400 to-pink-400 flex items-center justify-center p-6">
    <div class="bg-white rounded-3xl p-10 w-full max-w-xl shadow-2xl relative z-20 pointer-events-auto">
      <h2 class="text-4xl font-bold text-purple-600 mb-4 text-center">${title}</h2>
      <p class="text-xl text-center mb-6">${question}</p>

      <input
        id="answerInput"
        type="text"
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
        class="w-full p-4 border-2 rounded-xl mb-4 focus:outline-none focus:ring-4 focus:ring-purple-300"
        placeholder="Type your answer here..."
      />

      ${error ? `<div class="text-red-600 mb-4 text-center">${error}</div>` : ''}

      <button onclick="submitAnswer()"
        class="w-full bg-purple-500 text-white py-4 rounded-xl font-bold hover:bg-purple-600 transition">
        Submit âœ¨
      </button>

      <p class="text-sm text-center mt-4 text-gray-600">ğŸ’¡ ${hint}</p>
    </div>
  </div>`;
}

/* ================= ACTIONS ================= */
function startAdventure() {
  currentPage = 'question1';
  render();
}

function submitAnswer() {
  const input = document.getElementById('answerInput');
  if (!input) return;

  const val = input.value.toLowerCase().trim();
  error = '';

  if (currentPage === 'question1') {
    if (val === 'red shirt' || val === 'redshirt') {
      currentPage = 'photos';
    } else error = 'Not quite! ğŸ‘•';
  }
  else if (currentPage === 'photos') {
    if (val === 'sev usal' || val === 'sevusal') {
      currentPage = 'letter';
    } else error = 'Think spicy ğŸŒ¶ï¸';
  }
  else if (currentPage === 'letter') {
    if (val.includes('april 10') || val.includes('10 april')) {
      currentPage = 'final';
      setTimeout(() => showFinalMessage = true, 300);
    } else error = 'Think April ğŸ’';
  }

  render();
}

/* ================= PAGES ================= */
function renderPhotos() {
  document.getElementById('app').innerHTML = `
  <div class="min-h-screen bg-gradient-to-br from-pink-300 to-purple-400 p-10">
    <h1 class="text-6xl text-white font-black text-center mb-10">Our Memory Lane ğŸ“¸</h1>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-12">
      ${photos.map(p => `<img src="${p}" class="rounded-3xl shadow-xl">`).join('')}
    </div>

    ${questionTemplate(
      'ğŸ½ï¸ Second Challenge!',
      'Whatâ€™s your favourite food?',
      'Itâ€™s spicy ğŸŒ¶ï¸'
    )}
  </div>`;
  setupInput();
}

function renderLetter() {
  document.getElementById('app').innerHTML = `
  <div class="min-h-screen bg-gradient-to-br from-amber-100 via-rose-100 to-purple-200 p-6">
    <div class="max-w-4xl mx-auto bg-white/80 rounded-3xl p-10 shadow-2xl mb-10 relative z-10">
      <h1 class="text-5xl font-black text-center mb-8">A Letter Just For You ğŸ’Œ</h1>
      <p class="text-lg leading-relaxed text-gray-800">
        Dear Shyamal, <br><br>
        (Your friendâ€™s full original letter goes here â€” unchanged â¤ï¸)
      </p>
    </div>

    ${questionTemplate(
      'ğŸ“… Final Challenge!',
      'Specialest day in US?',
      'A date in April ğŸ’•'
    )}
  </div>`;
  setupInput();
}

function renderFinal() {
  document.getElementById('app').innerHTML = `
  <div class="min-h-screen bg-gradient-to-br from-pink-300 to-purple-400 flex items-center justify-center">
    ${showFinalMessage ? `
      <div class="bg-white/40 p-12 rounded-3xl text-center animate-fade-in">
        <h1 class="text-6xl font-black mb-6">ğŸ‰ You Made It ğŸ‰</h1>
        <p class="text-2xl">Happiest Birthday Love ğŸ’–</p>
      </div>
    ` : ''}
  </div>`;
}

/* ================= INPUT ================= */
function setupInput() {
  const i = document.getElementById('answerInput');
  if (!i) return;
  setTimeout(() => i.focus(), 50);
  i.onkeydown = e => e.key === 'Enter' && submitAnswer();
}

/* ================= INIT ================= */
render();
</script>
</body>
</html>
